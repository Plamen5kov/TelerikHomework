<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="scripts/interfaces.js"></script>
    <script src="scripts/LicenseDepartment.js"></script>
    <script src="scripts/Machines.js"></script>
    <script src="scripts/Drivers.js"></script>
</head>
<body>
<h1> Example of Mediator pattern: </h1>
<p> Machines are connected to Drivers, through the mediator class( license department)</p>
<script>
    var licenseDepartment = new LicenseDepartment.VehicleLicenseDepartment();
    licenseDepartment.addLicensedDriverToMachine('carDriver', 'car');
    licenseDepartment.addLicensedDriverToMachine('pilot', 'car');
    licenseDepartment.addLicensedDriverToMachine('pilot', 'plane');
    licenseDepartment.addLicensedDriverToMachine('pilot', 'bike');
    licenseDepartment.addLicensedDriverToMachine('pilot', 'tank');
    licenseDepartment.addLicensedDriverToMachine('motorist', 'bike');

    var pilot = new Drivers.Pilot(licenseDepartment);
    var carDriver = new Drivers.CarDriver(licenseDepartment);
    var motorist = new Drivers.MotorDriver(licenseDepartment);

    var tank = new Machines.Tank(licenseDepartment);
    var plane = new Machines.Plane(licenseDepartment);
    var car = new Machines.Car(licenseDepartment);
    var bike = new Machines.Bike(licenseDepartment);

    console.log(new Array(70).join('-'));

    console.log('pilot can drive: [' + pilot.CanDriveMachines() + ']');
    console.log('car driver can drive: [' + carDriver.CanDriveMachines() + ']');
    console.log('motorist can drive: [' + motorist.CanDriveMachines() + ']');

    console.log(new Array(70).join('-'));

    console.log('tank can be driven by: [' + tank.CanBeDrivenBy() + ']');
    console.log('plane can be driven by: [' + plane.CanBeDrivenBy() + ']');
    console.log('bike can be driven by: [' + bike.CanBeDrivenBy() + ']');
    console.log('car can be driven by: [' + car.CanBeDrivenBy() + ']');
</script>
</body>
</html>